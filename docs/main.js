"use strict";(self.webpackChunkng_weather=self.webpackChunkng_weather||[]).push([[179],{8978:(d,f,t)=>{t.d(f,{T:()=>i});var c=t(4850),e=t(4650),L=t(529);let i=(()=>{class s{constructor(a){this.http=a}getAllCountries(){return this.http.get(`${s.URL}/all`).pipe((0,c.U)(a=>this._countriesToLabelValue(a)))}getCountriesByName(a){return this.http.get(`${s.URL}/name/${a}`).pipe((0,c.U)(u=>this._countriesToLabelValue(u)))}_countriesToLabelValue(a){return a.map(({name:u,cca2:l})=>({label:u.common,value:l}))}}return s.URL="https://restcountries.com/v3.1",s.\u0275fac=function(a){return new(a||s)(e.LFG(L.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})()},3094:(d,f,t)=>{t.d(f,{a:()=>m});var c=t(591),e=t(1086),L=t(9177),i=t(4650);const s="locations";let m=(()=>{class a{constructor(){this.locations$=new c.X([]);let l=localStorage.getItem(s);l&&this.locations$.next(JSON.parse(l))}getAllLocations(){return this.locations$.asObservable()}addLocation(l,E){const o=this.locations$.value;return o.push({zipcode:l,countryCode:E}),localStorage.setItem(s,JSON.stringify(o)),this.locations$.next(o),(0,e.of)("Location added correctly").pipe((0,L.g)(1e3))}removeLocation(l,E){const o=this.locations$.value;let h=o.findIndex(r=>r.zipcode===l&&r.countryCode===E);-1!==h&&(o.splice(h,1),localStorage.setItem(s,JSON.stringify(o))),this.locations$.next(o)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})()},1267:(d,f,t)=>{t.d(f,{F:()=>E});var c=t(7739),e=t(1086),L=t(7545),i=t(4850),s=t(1059),m=t(7221),a=t(8117),u=t(4650),l=t(529);let E=(()=>{class o{constructor(r){this.http=r,this.currentConditions=[]}getLiveConditionByZipcode(r,g){return(0,c.H)(0,3e4).pipe((0,L.w)(()=>this.http.get(`${o.URL}/weather?zip=${r},${g}&units=imperial&APPID=${o.APPID}`)),(0,i.U)(C=>({loading:!1,value:C})),(0,s.O)({loading:!0}),(0,m.K)(({error:C})=>(0,e.of)({loading:!1,error:C})),(0,a.B)())}getForecast(r,g){return this.http.get(`${o.URL}/forecast/daily?zip=${r},${g}&units=imperial&cnt=5&APPID=${o.APPID}`)}getWeatherIcon(r){return r>=200&&r<=232?o.ICON_URL+"art_storm.png":r>=501&&r<=511?o.ICON_URL+"art_rain.png":500===r||r>=520&&r<=531?o.ICON_URL+"art_light_rain.png":r>=600&&r<=622?o.ICON_URL+"art_snow.png":r>=801&&r<=804?o.ICON_URL+"art_clouds.png":741===r||761===r?o.ICON_URL+"art_fog.png":o.ICON_URL+"art_clear.png"}}return o.URL="http://api.openweathermap.org/data/2.5",o.APPID="5a4b2d457ecbef9eb2a71e480b947604",o.ICON_URL="https://raw.githubusercontent.com/udacity/Sunshine-Version-2/sunshine_master/app/src/main/res/drawable-hdpi/",o.\u0275fac=function(r){return new(r||o)(u.LFG(l.eN))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})()},5325:(d,f,t)=>{var c=t(1481),e=t(4650),L=t(4719),i=t(5418);let s=(()=>{class n{constructor(){}}return n.\u0275fac=function(p){return new(p||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(p,v){1&p&&e._UZ(0,"router-outlet")},dependencies:[i.lC]}),n})();const a=i.Bz.forRoot([{path:"",loadChildren:()=>Promise.all([t.e(592),t.e(185)]).then(t.bind(t,5185)).then(n=>n.HomeModule)},{path:"forecast/:countrycode/:zipcode",loadChildren:()=>Promise.all([t.e(592),t.e(453)]).then(t.bind(t,4453)).then(n=>n.ForecastModule)}],{relativeLinkResolution:"legacy"});var u=t(529),l=t(1848);var o=t(6895),h=t(3094),r=t(1267),g=t(8978);let C=(()=>{class n{constructor(p){!function P(n,O){if(n)throw new Error(`${O} has already been loaded. Import Core modules in the AppModule only.`)}(p,"CoreModule")}static forRoot(){return{ngModule:n,providers:[h.a,r.F,g.T]}}}return n.\u0275fac=function(p){return new(p||n)(e.LFG(n,12))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[o.ez]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(p){return new(p||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[s]}),n.\u0275inj=e.cJS({imports:[c.b2,L.u5,u.JF,i.Bz,C.forRoot(),a,l.Wr.register("/ngsw-worker.js",{enabled:false})]}),n})();c.q6().bootstrapModule(M)}},d=>{d.O(0,[736],()=>d(d.s=5325)),d.O()}]);